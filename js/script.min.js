var popup=document.querySelector(".popup");if(popup){var toggleButton=document.querySelector(".button-toggle"),form=popup.querySelector(".hotel-form"),counterButtons=popup.querySelectorAll(".counter-block button"),checkIn=popup.querySelector("#check-in"),checkOut=popup.querySelector("#check-out"),adultsCounter=popup.querySelector("#adults-counter"),childrenCounter=popup.querySelector("#children-counter"),checkInStorage=localStorage.getItem("checkIn"),checkOutStorage=localStorage.getItem("checkOut"),adultsCounterStorage=localStorage.getItem("adultsCounter"),childrenCounterStorage=localStorage.getItem("childrenCounter");checkInStorage&&(checkIn.value=checkInStorage),checkOutStorage&&(checkOut.value=checkOutStorage),adultsCounterStorage&&(adultsCounter.value=adultsCounterStorage),childrenCounterStorage&&(childrenCounter.value=childrenCounterStorage),popup.classList.remove("popup-visible"),popup.classList.add("popup-invisible"),toggleButton.addEventListener("click",function(a){a.preventDefault(),popup.classList.toggle("popup-visible"),popup.classList.toggle("popup-invisible")}),window.addEventListener("keydown",function(a){27!==a.keyCode||popup.classList.contains("popup-hidden")||popup.classList.remove("popup-visible")}),[].forEach.call(counterButtons,function(a){var b=a.parentNode.querySelector("input");a.addEventListener("click",function(c){c.preventDefault(),b.value<99&&"increase"===a.className&&b.value++,b.value>0&&"decrease"===a.className&&b.value--})}),form.addEventListener("submit",function(a){checkIn.value&&checkOut.value?"0"===adultsCounter.value?(a.preventDefault(),alert("Пожалуйста, введите количество взрослых гостей!")):(localStorage.setItem("checkIn",checkIn.value),localStorage.setItem("checkOut",checkOut.value),localStorage.setItem("adultsCounter",adultsCounter.value),localStorage.setItem("childrenCounter",childrenCounter.value)):(a.preventDefault(),alert("Пожалуйста, введите даты заезда и отъезда!"))})}var sliderButtons=document.querySelectorAll(".slider-button");sliderButtons&&[].forEach.call(sliderButtons,function(a){a.addEventListener("mousedown",function(b){function n(b){var c=b.pageX-e-j/2,n=f-b.pageX-j/2;a.classList.contains("slider-min")?(c<0?g.style.left="0px":c>=l-2*j?g.style.left=l-2*j+"px":g.style.left=c+"px",h.value=Math.round(parseInt(g.style.left)*m)):(n<0?g.style.right="0px":n>k-2*j?g.style.right=k-2*j+"px":g.style.right=n+"px",i.value=Math.round((d-parseInt(g.style.right))*m))}b.preventDefault();var c=document.querySelector(".range-bar"),d=c.getBoundingClientRect().width,e=c.getBoundingClientRect().left+window.pageXOffset,f=c.getBoundingClientRect().right+window.pageXOffset,g=document.querySelector(".inner-bar"),h=document.querySelector("#price-from"),i=document.querySelector("#price-to"),j=parseInt(getComputedStyle(a).width)||20,k=d-parseInt(getComputedStyle(g).left),l=d-parseInt(getComputedStyle(g).right),m=i.value/l;document.onmousemove=function(a){n(a)}}),document.addEventListener("mouseup",function(){document.onmousemove=null,document.onmouseup=null,a.onmousedown=null})});
